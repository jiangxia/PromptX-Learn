# PX学习指南

> **PX项目完整学习指南**  
> 从零开始，循序渐进掌握PX项目的核心概念和实践技能

## 🎯 学习目标

### 你将学会什么
- ✅ 理解PX项目的核心价值和设计理念
- ✅ 掌握DPML协议和角色系统的使用
- ✅ 能够独立创建和管理AI角色
- ✅ 熟练使用锦囊框架的各种命令
- ✅ 具备基本的扩展和定制能力

### 学习前提条件
- 📋 具备基本的计算机操作能力
- 📋 了解基本的命令行操作（推荐但非必需）
- 📋 对AI和自动化工具有基本认知（推荐但非必需）

---

## 📁 项目结构速览

在开始学习之前，先了解PX项目的整体结构：

```
PX/                          # 项目根目录
├── 📋 README.md             # 项目主要说明文档
├── 📚 docs/                 # 详细技术文档目录
│   └── promptx-architecture-principle.md  # 系统架构原理
├── 🚀 src/                  # 源代码目录
│   └── lib/core/            # 核心框架代码
│       ├── dpml/            # DPML协议处理
│       ├── pouch/           # 锦囊框架
│       └── resource/        # 资源管理
├── 📦 resource/             # 系统内置资源
│   └── role/                # 系统内置角色
│       ├── nuwa/            # 女蜗角色创建专家
│       ├── assistant/       # 基础助手角色
│       └── ...              # 其他角色
├── 🎯 prompt/               # 提示词模板库
└── 🔧 scripts/              # 项目脚本文件
```

### 重要目录说明
- **docs/**: 技术文档，包含架构原理和设计文档
- **src/lib/core/**: 核心代码，包含DPML、锦囊框架、资源管理
- **resource/role/**: 系统内置角色定义
- **.promptx/**: 用户工作目录（使用时自动创建）

---

## 📚 第一阶段：概念认知 (2-3天)

### 🎯 学习目标
理解PX项目的基本概念和价值，建立正确的认知框架

### Day 1: 项目价值认知

**学习文件路径：**
- 📖 `PX/README.md` - 项目主要介绍
- 📖 `PX/docs/promptx-architecture-principle.md` - 架构原理文档

**具体学习任务：**
1. **读懂项目定位**（30分钟）
   - PX项目解决什么问题？
   - 与传统AI工具有什么不同？
   - 为什么需要这样的框架？

2. **理解核心概念**（45分钟）
   - DPML是什么？
   - 角色系统如何工作？
   - 锦囊框架的设计思想

3. **观看演示案例**（30分钟）
   - 查看 `PX/assets/nuwa-demo/` 目录下的演示截图
   - 理解实际使用场景

**自我检验：**
- [ ] 能用自己的话解释PX项目的核心价值
- [ ] 理解DPML、角色系统、锦囊框架的基本概念
- [ ] 知道PX项目适合解决什么类型的问题

### Day 2: 系统架构理解

**学习文件路径：**
- 📖 `PX/docs/promptx-architecture-principle.md` - 深入阅读架构原理
- 📖 `PX/src/lib/core/pouch/README.md` - 锦囊框架说明

**具体学习任务：**
1. **四层架构理解**（45分钟）
   - Master层（人类主控）
   - AI层（智能中间层）
   - Interface层（接口层）
   - PromptX System层（系统层）

2. **双提示词循环**（30分钟）
   - 用户提示词（User Prompt）
   - 系统提示词（System Prompt）
   - 循环增强机制

3. **PATEOAS状态机**（30分钟）
   - 状态转换流程
   - 命令之间的关系

**自我检验：**
- [ ] 能画出PX项目的基本架构图
- [ ] 理解双提示词循环的工作原理
- [ ] 知道PATEOAS在PX项目中的应用

### Day 3: 角色系统深入

**学习文件路径：**
- 📖 `PX/resource/role/` - 浏览系统内置角色
- 📖 `PX/resource/role/nuwa/nuwa.role.md` - 女蜗角色定义
- 📖 `PX/resource/role/assistant/assistant.role.md` - 助手角色定义

**具体学习任务：**
1. **角色文件结构**（45分钟）
   - 三组件架构：personality、principle、knowledge
   - @引用机制的使用
   - 模块化设计原理

2. **实际角色分析**（45分钟）
   - 分析女蜗角色的定义
   - 理解思维模式、执行方式的组织
   - 学习角色之间的差异

3. **角色激活流程**（30分钟）
   - 从命令到角色激活的完整流程
   - ResourceManager的发现机制

**自我检验：**
- [ ] 能理解角色文件的基本结构
- [ ] 知道如何阅读和分析角色定义
- [ ] 理解角色激活的工作原理

---

## 🏗️ 第二阶段：架构掌握 (3-4天)

### 🎯 学习目标
深入理解PX项目的技术架构和核心组件

### Day 1: 核心代码结构

**学习文件路径：**
- 📖 `PX/src/lib/core/dpml/` - DPML协议处理
- 📖 `PX/src/lib/core/pouch/` - 锦囊框架
- 📖 `PX/src/lib/core/resource/` - 资源管理

**具体学习任务：**
1. **DPML处理机制**（60分钟）
   - `DPMLContentParser.js` - 解析器工作原理
   - `SemanticRenderer.js` - 语义渲染器
   - 从标记到提示词的转换过程

2. **锦囊框架组件**（45分钟）
   - `BasePouchCommand.js` - 基础命令抽象类
   - `commands/` 目录下的具体命令实现
   - 命令注册和执行机制

3. **资源管理系统**（45分钟）
   - 资源发现和注册机制
   - 各种@协议的处理方式
   - 用户资源与系统资源的区别

**自我检验：**
- [ ] 理解DPML的处理流程
- [ ] 知道锦囊框架的基本结构
- [ ] 了解资源管理的工作原理

### Day 2: 命令系统详解

**学习文件路径：**
- 📖 `PX/src/lib/core/pouch/commands/` - 所有命令实现
- 📖 `PX/src/lib/core/pouch/state/` - 状态管理

**具体学习任务：**
1. **核心命令理解**（60分钟）
   - `InitCommand.js` - 初始化命令
   - `ActionCommand.js` - 角色激活命令
   - `WelcomeCommand.js` - 角色发现命令

2. **状态机原理**（45分钟）
   - `PouchStateMachine.js` - 状态机实现
   - 状态转换规则和历史记录
   - PATEOAS导航的实现

3. **数据流分析**（45分钟）
   - 从用户命令到系统响应的完整流程
   - 数据在各个组件间的传递

**自我检验：**
- [ ] 理解每个命令的具体作用
- [ ] 知道状态机的工作原理
- [ ] 能跟踪数据在系统中的流转

### Day 3: 资源协议系统

**学习文件路径：**
- 📖 `PX/src/lib/core/resource/protocols/` - 协议处理器
- 📖 `PX/resource/protocol/` - 协议定义

**具体学习任务：**
1. **协议类型理解**（45分钟）
   - `RoleProtocol.js` - 角色协议
   - `ThoughtProtocol.js` - 思维协议
   - `ExecutionProtocol.js` - 执行协议

2. **协议处理机制**（45分钟）
   - 协议解析器的工作原理
   - 资源引用的处理方式

3. **协议扩展**（30分钟）
   - 如何添加新的协议类型
   - 协议的注册和发现机制

**自我检验：**
- [ ] 理解各种协议的作用
- [ ] 知道协议的处理机制
- [ ] 了解协议系统的扩展方式

---

## 🔧 第三阶段：实践操作 (2-3天)

### 🎯 学习目标
掌握PX项目的实际操作技能，能够独立完成基本任务

### Day 1: 环境搭建和基础操作

**前置准备：**
- 安装Node.js (>= 14.0.0)
- 安装npm或pnpm
- 准备代码编辑器

**具体学习任务：**
1. **项目安装**（30分钟）
   ```bash
   # 进入项目目录
   cd PX
   
   # 安装依赖
   npm install
   # 或者使用pnpm
   pnpm install
   ```

2. **基本命令练习**（60分钟）
   ```bash
   # 初始化环境
   npx promptx init
   
   # 发现可用角色
   npx promptx welcome
   
   # 激活角色
   npx promptx action assistant
   ```

3. **环境验证**（30分钟）
   - 检查`.promptx/`目录是否生成
   - 验证`pouch.json`状态文件
   - 确认命令能正常执行

**自我检验：**
- [ ] 成功安装并运行PX项目
- [ ] 能够执行基本的命令
- [ ] 理解生成的配置文件

### Day 2: 角色操作和记忆系统

**具体学习任务：**
1. **角色发现和激活**（45分钟）
   ```bash
   # 发现所有角色
   npx promptx welcome
   
   # 激活不同角色
   npx promptx action nuwa
   npx promptx action assistant
   ```

2. **学习和记忆系统**（45分钟）
   ```bash
   # 学习特定资源
   npx promptx learn @role://nuwa
   
   # 记忆重要信息
   npx promptx remember "学习心得"
   
   # 回忆相关信息
   npx promptx recall "学习"
   ```

3. **状态跟踪**（30分钟）
   - 观察`pouch.json`文件的变化
   - 理解状态转换的过程
   - 学习状态历史的查看

**自我检验：**
- [ ] 熟练使用角色激活命令
- [ ] 理解学习和记忆系统
- [ ] 能够跟踪系统状态变化

### Day 3: 问题诊断和解决

**具体学习任务：**
1. **常见问题处理**（45分钟）
   - 安装失败的解决方案
   - 命令执行错误的调试
   - 资源发现问题的排查

2. **调试技巧学习**（45分钟）
   - 使用详细日志模式
   - 检查配置文件正确性
   - 验证资源路径和权限

3. **获取帮助**（30分钟）
   - 查看内置帮助信息
   - 使用社区资源
   - 问题反馈流程

**自我检验：**
- [ ] 能够独立解决常见问题
- [ ] 掌握基本的调试技巧
- [ ] 知道如何获取帮助

---

## 🚀 第四阶段：深度应用 (3-5天)

### 🎯 学习目标
具备自定义开发和扩展能力，能够创建自己的角色和工具

### Day 1-2: 创建自定义角色

**具体学习任务：**
1. **角色设计**（60分钟）
   - 确定角色的专业领域
   - 设计角色的人格特征
   - 规划角色的能力边界

2. **角色实现**（90分钟）
   - 在`.promptx/resource/role/`目录创建角色文件
   - 编写角色主文件（遵循DPML规范）
   - 创建思维模式和执行方式文件

3. **角色测试**（30分钟）
   - 激活自定义角色
   - 验证角色功能
   - 调试和优化

**实践项目：**
```bash
# 创建自己的专业角色
mkdir -p .promptx/resource/role/my-expert
# 编写角色定义文件
# 测试角色功能
npx promptx action my-expert
```

**自我检验：**
- [ ] 成功创建并激活自定义角色
- [ ] 理解角色设计的要点
- [ ] 能够调试和优化角色

### Day 3-4: 扩展和集成

**学习文件路径：**
- 📖 `PX/src/lib/mcp/` - MCP集成代码
- 📖 `PX/scripts/` - 工具脚本

**具体学习任务：**
1. **MCP集成理解**（60分钟）
   - MCP协议的基本原理
   - PX项目的MCP实现
   - 集成其他AI工具

2. **工具脚本使用**（45分钟）
   - 资源注册表生成脚本
   - 测试工具的使用
   - 部署脚本的理解

3. **自定义扩展**（75分钟）
   - 添加新的命令
   - 创建自定义协议
   - 实现工具集成

**自我检验：**
- [ ] 理解MCP集成机制
- [ ] 能够创建自定义扩展
- [ ] 掌握工具脚本的使用

### Day 5: 综合项目实战

**项目目标：**
创建一个完整的专业AI助手系统

**具体学习任务：**
1. **项目规划**（45分钟）
   - 确定项目需求和目标
   - 设计系统架构
   - 制定开发计划

2. **核心实现**（120分钟）
   - 实现核心功能
   - 创建专业角色
   - 集成必要工具

3. **测试和优化**（60分钟）
   - 功能测试
   - 性能优化
   - 用户体验改进

**自我检验：**
- [ ] 完成一个完整的项目
- [ ] 展示综合技术能力
- [ ] 具备独立开发能力

---

## 📊 学习进度跟踪

### 第一阶段检查点
- [ ] 完成项目价值认知
- [ ] 理解系统架构
- [ ] 掌握角色系统基础

### 第二阶段检查点
- [ ] 理解核心代码结构
- [ ] 掌握命令系统
- [ ] 了解资源协议

### 第三阶段检查点
- [ ] 完成环境搭建
- [ ] 熟练使用基本功能
- [ ] 具备问题解决能力

### 第四阶段检查点
- [ ] 创建自定义角色
- [ ] 实现功能扩展
- [ ] 完成综合项目

---

## 🎯 学习建议

### 学习方法
- **理论与实践结合**：每个概念都要通过实际操作来验证
- **循序渐进**：不要跳过基础阶段直接进入高级内容
- **多动手练习**：通过实际编码来加深理解

### 遇到问题时
1. **查阅文档**：首先查看项目文档和源代码注释
2. **实践验证**：通过实际操作来验证理论理解
3. **寻求帮助**：参与社区讨论，向有经验的开发者请教

### 持续学习
- 关注项目更新，学习新特性
- 参与开源贡献，提升技术水平
- 与其他学习者交流，分享经验

---

## 📚 重要文件索引

### 核心文档
- `PX/README.md` - 项目概述
- `PX/docs/promptx-architecture-principle.md` - 架构原理
- `PX/src/lib/core/pouch/README.md` - 锦囊框架说明

### 核心代码
- `PX/src/lib/core/dpml/` - DPML协议处理
- `PX/src/lib/core/pouch/` - 锦囊框架
- `PX/src/lib/core/resource/` - 资源管理

### 角色示例
- `PX/resource/role/nuwa/` - 女蜗角色创建专家
- `PX/resource/role/assistant/` - 基础助手角色

### 配置文件
- `PX/package.json` - 项目依赖配置
- `.promptx/pouch.json` - 状态管理文件（运行时生成）

---

现在您拥有了完整的PX项目学习指南。建议按照阶段顺序进行学习，每个阶段都有明确的目标和检查点。遇到问题时，请及时查阅相关文档或寻求帮助。祝您学习愉快！